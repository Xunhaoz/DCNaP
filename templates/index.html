<!doctype html>
<!--
* Tabler - Premium and Open Source dashboard template with responsive and high quality UI.
* @version 1.0.0-beta20
* @link https://tabler.io
* Copyright 2018-2023 The Tabler Authors
* Copyright 2018-2023 codecalm.net PaweÅ‚ Kuna
* Licensed under MIT (https://github.com/tabler/tabler/blob/master/LICENSE)
-->
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Dashboard</title>
    <!-- CSS files -->
    <link href="{{ url_for('static', filename='css/tabler.min.css') }}" rel="stylesheet"/>
    <link href="{{ url_for('static', filename='css/tabler-flags.min.css') }}" rel="stylesheet"/>
    <link href="{{ url_for('static', filename='css/tabler-payments.min.css') }}" rel="stylesheet"/>
    <link href="{{ url_for('static', filename='css/tabler-vendors.min.css') }}" rel="stylesheet"/>
    <link href="{{ url_for('static', filename='css/demo.min.css') }}" rel="stylesheet"/>
    <style>
        @import url('https://rsms.me/inter/inter.css');

        :root {
            --tblr-font-sans-serif: 'Inter Var', -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif;
        }

        body {
            font-feature-settings: "cv03", "cv04", "cv11";
        }
    </style>
</head>
<body>
<script src="{{ url_for('static', filename='js/demo-theme.min.js') }}"></script>
<div class="page">
    <!-- Navbar -->
    {% include 'header.html' %}
    <div class="page-wrapper">
        <!-- Page header -->
        <div class="page-header d-print-none">
            <div class="container-xl">
                <div class="row g-2 align-items-center">
                    <div class="col">
                        <!-- Page pre-title -->
                        <div class="page-pretitle">
                            Overview
                        </div>
                        <h2 class="page-title">
                            Dashboard
                        </h2>
                    </div>
                </div>
            </div>
        </div>
        <!-- Page body -->
        <div class="page-body">
            <div class="container-xl">
                <div class="row row-deck row-cards">
                    <div class="col-12">
                        <div class="card card-md">
                            <div class="card-stamp card-stamp-lg">
                                <div class="card-stamp-icon bg-primary">
                                    <!-- Download SVG icon from http://tabler-icons.io/i/ghost -->
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                         viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                         stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                        <path d="M5 11a7 7 0 0 1 14 0v7a1.78 1.78 0 0 1 -3.1 1.4a1.65 1.65 0 0 0 -2.6 0a1.65 1.65 0 0 1 -2.6 0a1.65 1.65 0 0 0 -2.6 0a1.78 1.78 0 0 1 -3.1 -1.4v-7"/>
                                        <path d="M10 10l.01 0"/>
                                        <path d="M14 10l.01 0"/>
                                        <path d="M10 14a3.5 3.5 0 0 0 4 0"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <div class="col-10">
                                        <h3 class="h1">Welcome</h3>
                                        <div class="markdown text-secondary">
                                            Unlock the Door to Wealth, Explore the Infinite Possibilities of Blockchain!
                                        </div>
                                        <div class="mt-3">
                                            <a href="{{ url_for('market.top_up') }}" class="btn btn-primary" target="_blank"
                                               rel="noopener">Top-Up</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="row row-cards">
                            <div class="col-sm-6 col-lg-3">
                                <div class="card card-sm">
                                    <div class="card-body">
                                        <h3 class="card-title">Popular currencies</h3>
                                        {% for row in index_payload['popular_currencies'] %}
                                            <div class="row align-items-center mb-2">
                                                <div class="col-auto">
                                                <span class="avatar">
                                                    <img src="{{ row['src'] }}" alt="{{ row['symbol'] }}">
                                                </span>
                                                </div>
                                                <div class="col">
                                                    <div class="font-weight-medium">
                                                        {{ row['symbol'] }}
                                                    </div>
                                                    {% if row['pct_change'][0] == "-" %}
                                                        <div class="text-secondary text-danger">
                                                            {{ row['pct_change'] }} {{ row['price'] }}
                                                        </div>
                                                    {% else %}
                                                        <div class="text-secondary text-success">
                                                            {{ row['pct_change'] }} {{ row['price'] }}
                                                        </div>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="card card-sm">
                                    <div class="card-body">
                                        <h3 class="card-title">New coins listed</h3>
                                        {% for row in index_payload['new_coins_listed'] %}
                                            <div class="row align-items-center mb-2">
                                                <div class="col-auto">
                                                <span class="avatar">
                                                    <img src="{{ row['src'] }}" alt="{{ row['symbol'] }}">
                                                </span>
                                                </div>
                                                <div class="col">
                                                    <div class="font-weight-medium">
                                                        {{ row['symbol'] }}
                                                    </div>
                                                    {% if row['pct_change'][0] == "-" %}
                                                        <div class="text-secondary text-danger">
                                                            {{ row['pct_change'] }} {{ row['price'] }}
                                                        </div>
                                                    {% else %}
                                                        <div class="text-secondary text-success">
                                                            {{ row['pct_change'] }} {{ row['price'] }}
                                                        </div>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="card card-sm">
                                    <div class="card-body">
                                        <h3 class="card-title">The largest increase</h3>
                                        {% for row in index_payload['largest_increase'] %}
                                            <div class="row align-items-center mb-2">
                                                <div class="col-auto">
                                                <span class="avatar">
                                                    <img src="{{ row['src'] }}" alt="{{ row['symbol'] }}">
                                                </span>
                                                </div>
                                                <div class="col">
                                                    <div class="font-weight-medium">
                                                        {{ row['symbol'] }}
                                                    </div>
                                                    {% if row['pct_change'][0] == "-" %}
                                                        <div class="text-secondary text-danger">
                                                            {{ row['pct_change'] }} {{ row['price'] }}
                                                        </div>
                                                    {% else %}
                                                        <div class="text-secondary text-success">
                                                            {{ row['pct_change'] }} {{ row['price'] }}
                                                        </div>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="card card-sm">
                                    <div class="card-body">
                                        <h3 class="card-title">The highest volume</h3>
                                        {% for row in index_payload['highest_trading_volume'] %}
                                            <div class="row align-items-center mb-2">
                                                <div class="col-auto">
                                                <span class="avatar">
                                                    <img src="{{ row['src'] }}" alt="{{ row['symbol'] }}">
                                                </span>
                                                </div>
                                                <div class="col">
                                                    <div class="font-weight-medium">
                                                        {{ row['symbol'] }}
                                                    </div>
                                                    {% if row['pct_change'][0] == "-" %}
                                                        <div class="text-secondary text-danger">
                                                            {{ row['pct_change'] }} {{ row['price'] }}
                                                        </div>
                                                    {% else %}
                                                        <div class="text-secondary text-success">
                                                            {{ row['pct_change'] }} {{ row['price'] }}
                                                        </div>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex">
                                    <h3 class="card-title">Spot & Future</h3>
                                </div>
                                <div id="chart-social-referrals"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Top coins ranked by market cap</h3>
                            </div>
                            <div class="table-responsive">
                                <table class="table card-table table-vcenter text-nowrap datatable">
                                    <thead>
                                    <tr>
                                        <th>SYMBOL</th>
                                        <th>ICON</th>
                                        <th>FULL NAME</th>
                                        <th>PRICE</th>
                                        <th>PCT CHANGE</th>
                                        <th>VOLUME</th>
                                        <th>MARKET PRICE</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for crypto_currency in index_payload['all_crypto_currency'] %}
                                        <tr>
                                            <td>{{ crypto_currency['symbol_1'] }}</td>
                                            <td>
                                                <img class="avatar avatar-sm" src="{{ crypto_currency['image'] }}"
                                                     alt="{{ crypto_currency['image'] }}">
                                            </td>
                                            <td>
                                                {{ crypto_currency['symbol_2'] }}
                                            </td>
                                            <td>
                                                {{ crypto_currency['price'] }}
                                            </td>
                                            <td>
                                                {% if crypto_currency['change'][0] == '+' %}
                                                    <span class="badge bg-success me-1"></span>
                                                {% else %}
                                                    <span class="badge bg-danger me-1"></span>
                                                {% endif %}
                                                {{ crypto_currency['change'] }}
                                            </td>
                                            <td>
                                                {{ crypto_currency['volume'] }}
                                            </td>
                                            <td>
                                                {{ crypto_currency['market_price'] }}
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% include 'footer.html' %}
    </div>
</div>
<!-- Libs JS -->
<script src="{{ url_for('static', filename='libs/apexcharts/dist/apexcharts.min.js') }}" defer></script>
<script src="{{ url_for('static', filename='libs/jsvectormap/dist/js/jsvectormap.min.js') }}" defer></script>
<script src="{{ url_for('static', filename='libs/jsvectormap/dist/maps/world.js') }}" defer></script>
<script src="{{ url_for('static', filename='libs/jsvectormap/dist/maps/world-merc.js') }}" defer></script>
<!-- Tabler Core -->
<script src="{{ url_for('static', filename='js/tabler.min.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/demo.min.js') }}" defer></script>

<script>
    // @formatter:off
      document.addEventListener("DOMContentLoaded", function () {
      	window.ApexCharts && (new ApexCharts(document.getElementById('chart-social-referrals'), {
      		chart: {
      			type: "line",
      			fontFamily: 'inherit',
      			height: 288,
      			parentHeightOffset: 0,
      			toolbar: {
      				show: false,
      			},
      			animations: {
      				enabled: false
      			},
      		},
      		fill: {
      			opacity: 1,
      		},
      		stroke: {
      			width: 2,
      			lineCap: "round",
      			curve: "smooth",
      		},
      		series: [{
      			name: "spot",
      			data: {{ index_payload['history']['spot'] }}
      		},{
      			name: "future",
      			data: {{ index_payload['history']['future'] }}
      		}],
      		tooltip: {
      			theme: 'dark'
      		},
      		grid: {
      			padding: {
      				top: -20,
      				right: 0,
      				left: -4,
      				bottom: -4
      			},
      			strokeDashArray: 4,
      			xaxis: {
      				lines: {
      					show: true
      				}
      			},
      		},
      		xaxis: {
      			labels: {
      				padding: 0,
      			},
      			tooltip: {
      				enabled: false
      			},
      			type: 'datetime',
      		},
      		yaxis: {
      			labels: {
      				padding: 4
      			},
      		},
      		labels: {{ index_payload['history']['datetime'] | tojson }},
      		colors: [tabler.getColor("facebook"), tabler.getColor("twitter"), tabler.getColor("dribbble")],
      		legend: {
      			show: true,
      			position: 'bottom',
      			offsetY: 12,
      			markers: {
      				width: 10,
      				height: 10,
      				radius: 100,
      			},
      			itemMargin: {
      				horizontal: 8,
      				vertical: 8
      			},
      		},
      	})).render();
      });
      // @formatter:on
</script>
</body>
</html>